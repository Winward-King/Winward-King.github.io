<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>UI基础知识 | Winward King's Blog</title><meta name="author" content="Winward King"><meta name="copyright" content="Winward King"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="博客">
<meta property="og:type" content="article">
<meta property="og:title" content="UI基础知识">
<meta property="og:url" content="https://winward-king.github.io/2018/04/16/Unity3D/16Unity_UI/index.html">
<meta property="og:site_name" content="Winward King&#39;s Blog">
<meta property="og:description" content="博客">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://winward-king.github.io/images/Wallpaper/10012unity3d.png">
<meta property="article:published_time" content="2018-04-16T14:10:00.000Z">
<meta property="article:modified_time" content="2023-05-17T00:45:35.545Z">
<meta property="article:author" content="Winward King">
<meta property="article:tag" content="unity3d">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://winward-king.github.io/images/Wallpaper/10012unity3d.png"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "UI基础知识",
  "url": "https://winward-king.github.io/2018/04/16/Unity3D/16Unity_UI/",
  "image": "https://winward-king.github.io/images/Wallpaper/10012unity3d.png",
  "datePublished": "2018-04-16T14:10:00.000Z",
  "dateModified": "2023-05-17T00:45:35.545Z",
  "author": [
    {
      "@type": "Person",
      "name": "Winward King",
      "url": "https://github.com/Winward-King"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://winward-king.github.io/2018/04/16/Unity3D/16Unity_UI/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="manifest" href="/img/pwa/manifest.json"/><link rel="apple-touch-icon" sizes="180x180" href="/img/pwa/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/img/pwa/32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/img/pwa/16.png"/><link rel="mask-icon" href="/img/pwa/safari-pinned-tab.svg" color="#5bbad5"/><link rel="stylesheet" href="/css/index.css?v=5.5.1"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@7.1.0/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@6.0.33/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!true && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"top_n_per_article":1,"unescape":false,"pagination":{"enable":false,"hitsPerPage":8},"languages":{"hits_empty":"未找到符合您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":200,"highlightFullpage":true,"highlightMacStyle":true},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":80,"languages":{"author":"作者: Winward King","link":"链接: ","source":"来源: Winward King's Blog","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.12.0/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: true,
  islazyloadPlugin: true,
  isAnchor: true,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'UI基础知识',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><link rel="stylesheet" href="/css/style.css"><!-- hexo injector head_end start -->
    <style>
      #background-effect {
        position: fixed !important;
        top: 0px;
        left: 0px;
        z-index: -1;
        width: 100%;
        height: 100%
      }
    </style>
  <link rel="stylesheet" href="/js/footer_beautify/runtime.css" media="print" onload="this.media='all'"><!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/img/loading.gif" data-lazy-src="/./img/%E5%89%91%E5%AE%A2300px.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">157</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">67</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">22</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> 兴趣</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/books/"><i class="fa-fw fa-fw fas fa-book"></i><span> 阅读过的书</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fa-fw fas fa-video"></i><span> 看过的影视</span></a></li><li><a class="site-page child" href="/games/"><i class="fa-fw fa-fw fas fa-gamepad"></i><span> 玩过的游戏</span></a></li><li><a class="site-page child" href="/songs/"><i class="fa-fw fa-fw fas fa-music"></i><span> 听过的音乐</span></a></li></ul></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fa-solid fa-screwdriver-wrench"></i><span> 聚合</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" target="_blank" rel="noopener" href="https://nastab.837888.xyz/"><i class="fa-fw fa-solid fa-window-maximize"></i><span> 导航页</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://yun.baidu.com/"><i class="fa-fw fa-solid fa-computer"></i><span> 群晖</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://jellyfin.837888.xyz/"><i class="fa-fw fas fa-video"></i><span> 影音库</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://space.bilibili.com/28967580/"><i class="fa-fw fa-brands fa-bilibili"></i><span> 我的B站</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(/images/Wallpaper/10012unity3d.png);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">Winward King's Blog</span></a><a class="nav-page-title" href="/"><span class="site-name">UI基础知识</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span>  返回首页</span></span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> 兴趣</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/books/"><i class="fa-fw fa-fw fas fa-book"></i><span> 阅读过的书</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fa-fw fas fa-video"></i><span> 看过的影视</span></a></li><li><a class="site-page child" href="/games/"><i class="fa-fw fa-fw fas fa-gamepad"></i><span> 玩过的游戏</span></a></li><li><a class="site-page child" href="/songs/"><i class="fa-fw fa-fw fas fa-music"></i><span> 听过的音乐</span></a></li></ul></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fa-solid fa-screwdriver-wrench"></i><span> 聚合</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" target="_blank" rel="noopener" href="https://nastab.837888.xyz/"><i class="fa-fw fa-solid fa-window-maximize"></i><span> 导航页</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://yun.baidu.com/"><i class="fa-fw fa-solid fa-computer"></i><span> 群晖</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://jellyfin.837888.xyz/"><i class="fa-fw fas fa-video"></i><span> 影音库</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://space.bilibili.com/28967580/"><i class="fa-fw fa-brands fa-bilibili"></i><span> 我的B站</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">UI基础知识</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2018-04-16T14:10:00.000Z" title="发表于 2018-04-16 22:10:00">2018-04-16</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-05-17T00:45:35.545Z" title="更新于 2023-05-17 08:45:35">2023-05-17</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Unity3D/">Unity3D</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">总字数:</span><span class="word-count">514</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>1分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><div id="post-outdate-notice" data="{&quot;limitDay&quot;:180,&quot;messagePrev&quot;:&quot;已经过了&quot;,&quot;messageNext&quot;:&quot;天自上次更新，文章内容可能已过时。&quot;,&quot;postUpdate&quot;:&quot;2023-05-17 08:45:35&quot;}" hidden></div><h1 id="UI"><a href="#UI" class="headerlink" title="UI"></a>UI</h1><ul>
<li>UI：User Interface 用户界面</li>
<li>UE：User Experience 用户体验</li>
</ul>
<h1 id="常见的UI类型"><a href="#常见的UI类型" class="headerlink" title="常见的UI类型"></a>常见的UI类型</h1><h2 id="环抱式"><a href="#环抱式" class="headerlink" title="环抱式"></a>环抱式</h2><p><img src="/img/loading.gif" data-lazy-src="/images/Unity3D/Unity_UI/huanbao.jpg" alt="环抱式" title="环抱式"></p>
<h2 id="弹框"><a href="#弹框" class="headerlink" title="弹框"></a>弹框</h2><p><img src="/img/loading.gif" data-lazy-src="/images/Unity3D/Unity_UI/tankuang.png" alt="弹框" title="弹框"></p>
<h2 id="全屏覆盖"><a href="#全屏覆盖" class="headerlink" title="全屏覆盖"></a>全屏覆盖</h2><p><img src="/img/loading.gif" data-lazy-src="/images/Unity3D/Unity_UI/quanping.jpg" alt="全屏覆盖" title="全屏覆盖"></p>
<h2 id="超全屏"><a href="#超全屏" class="headerlink" title="超全屏"></a>超全屏</h2><p><img src="/img/loading.gif" data-lazy-src="/images/Unity3D/Unity_UI/chaoquanping.png" alt="超全屏" title="超全屏"></p>
<h2 id="3D"><a href="#3D" class="headerlink" title="3D"></a>3D</h2><p><img src="/img/loading.gif" data-lazy-src="/images/Unity3D/Unity_UI/3dping.png" alt="3D" title="3D"></p>
<h1 id="常见设备的分辨率"><a href="#常见设备的分辨率" class="headerlink" title="常见设备的分辨率"></a>常见设备的分辨率</h1><h2 id="常见设备显示比例"><a href="#常见设备显示比例" class="headerlink" title="常见设备显示比例"></a>常见设备显示比例</h2><ul>
<li>4：3：iPad，安卓Pad</li>
<li>16：9：非全面屏的手机，PC的显示器</li>
<li>18：9：全面屏</li>
<li>异形屏：向标准分辨率靠近</li>
</ul>
<h2 id="配置常见设备分辨率"><a href="#配置常见设备分辨率" class="headerlink" title="配置常见设备分辨率"></a>配置常见设备分辨率</h2><p><img src="/img/loading.gif" data-lazy-src="/images/Unity3D/Unity_UI/fenbianlv.png" alt="分辨率" title="分辨率"></p>
<h1 id="Unity界面的发展史"><a href="#Unity界面的发展史" class="headerlink" title="Unity界面的发展史"></a>Unity界面的发展史</h1><ul>
<li>Unity 图形用户界面  unity Graphical User Interface</li>
<li>Unity4.6版本之后引入的界面显示系统</li>
<li>Unity公司自己研发的一套界面显示系统</li>
</ul>
<h1 id="Unity的UI系统-OnGUI、NGUI、UGUI"><a href="#Unity的UI系统-OnGUI、NGUI、UGUI" class="headerlink" title="Unity的UI系统(OnGUI、NGUI、UGUI)"></a>Unity的UI系统(OnGUI、NGUI、UGUI)</h1><h2 id="OnGUI"><a href="#OnGUI" class="headerlink" title="OnGUI"></a>OnGUI</h2><ul>
<li>OnGUI：最早的UI系统，纯代码实现，写法类似Update</li>
<li>优点：出现很早，纯代码可控制</li>
<li>缺点：只能程序开发</li>
</ul>
<h2 id="NGUI"><a href="#NGUI" class="headerlink" title="NGUI"></a>NGUI</h2><ul>
<li>NGUI：Unity著名插件，可实现2D和3D的界面，出现在老项目</li>
<li>优点：功能完整，集成了动态效果</li>
<li>缺点：性能较弱，交互使用物理引擎实现，需要付费</li>
</ul>
<h2 id="UGUI：官方制作的UI系统，NGUI作者开发"><a href="#UGUI：官方制作的UI系统，NGUI作者开发" class="headerlink" title="UGUI：官方制作的UI系统，NGUI作者开发"></a>UGUI：官方制作的UI系统，NGUI作者开发</h2><ul>
<li>优点：性能优秀，功能较完整</li>
<li>缺点：功能需要再完善，动画需要配合DOTween</li>
</ul>
<h2 id="UGUI和OnGUI-NGUI的区别"><a href="#UGUI和OnGUI-NGUI的区别" class="headerlink" title="UGUI和OnGUI,NGUI的区别"></a>UGUI和OnGUI,NGUI的区别</h2><ol>
<li>uGUI的Canvas 有世界坐标和屏幕坐标</li>
<li>uGUI的Image可以使用material  </li>
<li>UGUI通过Mask来裁剪，而NGUI通过Panel的Clip </li>
<li>NGUI的渲染前后顺序是通过Widget的Depth，而UGUI渲染顺序根据Hierarchy的顺序，越下面渲染在顶层. </li>
<li>UGUI 不需要绑定Colliders，UI可以自动拦截事件</li>
<li>UGUI的Anchor是相对父对象，没有提供高级选项</li>
<li>UGUI没有Atlas一说，使用Sprite Packer </li>
<li>UGUI的Navigation在Scene中能可视化</li>
<li>UGUI的事件需要实现事件系统的接口，但写起来也算简单</li>
<li>NGUI还保留着图集，需要进行图集的维护。而UGUI没有图集的概念，可以充分利用资源，避免重复资源。</li>
<li>UGUI出现了锚点的概念，更方便屏幕自适应。 </li>
<li>NGUI支持图文混排，UGUI暂未发现支持此功能。 </li>
<li>UGUI没有 UIWrap 来循环 scrollview 内容。 </li>
<li>UGUI暂时没有Tween组件。</li>
</ol>
<div style="display:none">
- Word M3W1
- 
</div><script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css"></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a target="_blank" rel="noopener" href="https://github.com/Winward-King">Winward King</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://winward-king.github.io/2018/04/16/Unity3D/16Unity_UI/">https://winward-king.github.io/2018/04/16/Unity3D/16Unity_UI/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://winward-king.github.io" target="_blank">Winward King's Blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/unity3d/">unity3d</a></div><div class="post-share"><div class="social-share" data-image="/images/Wallpaper/10012unity3d.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/sharejs/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i>赞助</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/img/wechat.png" target="_blank"><img class="post-qr-code-img" src="/img/loading.gif" data-lazy-src="/img/wechat.png" alt="微信"/></a><div class="post-qr-code-desc">微信</div></li></ul></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2018/04/16/Unity3D/15Unity_Navigation/" title="导航系统"><img class="cover" src="/img/loading.gif" data-lazy-src="/images/Wallpaper/10012unity3d.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">导航系统</div></div><div class="info-2"><div class="info-item-1">Unity的寻路系统AStarPathFinding： Navigation：unity自带的寻路系统；比较简单AgentRadius：烘焙路径可行区域和非可行区域的间隔；AgentHeight：烘焙路径时当高度小于这个值的地方，就是不可行区域；Max Slope：最大可行区域的坡度；Step Height：最大台阶高度；Drop Height：下落高度；Jump Distance：最大跳跃距离； 实现从低点到高点的跳跃：从cube3的位置到cube4的位置（如下图）： NavMeshAgent   寻路组件：Base offset：组件的竖直方向的偏移量； Speed：速度；Agular Speed：角速度；Acceleration：加速度（加速度是矢量，有大小有方向，在加速时是加速度，减速时是减速的加速度）；StoppingDistance：距离目标点多远就停止（速度不能太快，加速度不能太小，否则跟目标点距离等于stoppingdistance时停不下来） Radiu：寻路组件半径；Height：寻路组件高度；Quality：寻路精细度，速度越快对寻路精细度要求越高；Prio...</div></div></div></a><a class="pagination-related" href="/2018/04/16/Unity3D/17Unity_UI/" title="Unity中UI基础控件"><img class="cover" src="/img/loading.gif" data-lazy-src="/images/Wallpaper/10012unity3d.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">Unity中UI基础控件</div></div><div class="info-2"><div class="info-item-1">Unity中UI基础控件 Canvas 画布 Rect Transform 矩形变换 Text 文本 Image 图片 Raw Image 原始图片 Button 按钮 # Toggle 开关  Slider 滑动条 Scrollbar 滚动条 Dropdown 下拉框 InputField 输入框 Panel 面板 Scroll View 滑动视图  Canvas 画布 画布，绘制UI元素的载体，所有元素必须在Canvas之下。      UI元素的绘制顺序依赖于Hierarchy (层级面板)中的顺序。  参考https://docs.unity3d.com/cn/current/Manual/class-Canvas.html    UI元素渲染顺序 在同一个Canvas下的UI对象会根据在Hierarchy窗口中从上到下的顺序进行渲染    以Hierarchy参考 下方物体在上方物体前显示 子物体在父物体前显示 下方物体永远在前显示，无论上方的层次结构    Render Mode 渲染方式(三种) Screen Space-Overlay 覆盖模式 Screen Sp...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/2018/04/01/Unity3D/01Unity_Profile/" title="Unity简介"><img class="cover" src="/img/loading.gif" data-lazy-src="/images/Wallpaper/10012unity3d.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2018-04-01</div><div class="info-item-2">Unity简介</div></div><div class="info-2"><div class="info-item-1">Unity 简介由 Unity Technologies 公司开发的用于轻松创建游戏和三维互动内容的开发工具，是一个国际领先的专业游戏引擎。 Unity 网站资源 (CN)   资源名称 网址    Unity中国官网 https://unity.cn/   Unity开发者社区 https://developer.unity.cn/   Unity Learn Premium https://unity.com/cn/products/unity-learn   Unity 网站资源 (World)   资源名称 网址    Unity官网 http://unity3d.com   Unity论坛 http://forum.china.unity3d.com/fourm.php   Unity博客 http://answers.unity3d.com/index.html   Unity官方在线案例 http://unity3d.com/gallery/demos/live-demos   Unity官方项目源文件 http://nity3d.com/gallery/demos...</div></div></div></a><a class="pagination-related" href="/2022/02/23/Unity3D/01Unity_Hexo/" title="Unity知识点梳理及思维导图"><img class="cover" src="/img/loading.gif" data-lazy-src="/images/Wallpaper/10012unity3d.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2022-02-23</div><div class="info-item-2">Unity知识点梳理及思维导图</div></div><div class="info-2"><div class="info-item-1">思维导图 unity3d 基础 API 组件 坐标系 生命周期 鼠标事件 Time类 Vector3 Transform Gameobject  Random lnput类 Mathf类   物理引擎(API) 刚体 碰撞体 触发器 射线   3D 数学 向量和点 坐标系转换 [世界坐标系和本地坐标系] 欧拉角和四元数   地形系统 导航系统 NavMesh   相机系统 参数设定 多相机叠加 渲染层 排序层   UI 系统 UGUI（基础组件，复合组件） NGUI DOTween   灯光系统 粒子系统 编辑器 Editor 工具开发   音频系统 音频编辑系统 音频播放系统 [2D,3D]   资源系统 IO 操作（C#） Resources（打在包里） AssetBundle   动画系统 Animator 状态机 Animation 动画片段 Avatar 融合树 IK 事件插入   Eventsystem 2D 给 UI 3D 给相机   Shader 优化技巧 服务器通信 IP TCP UDP HTTP   项目打包 PC WebGL IOS Android   热更...</div></div></div></a><a class="pagination-related" href="/2022/03/03/Unity3D/01Unity_Skills/" title="Unity开发涉及技能栈总结"><img class="cover" src="/img/loading.gif" data-lazy-src="/images/Wallpaper/10012unity3d.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2022-03-03</div><div class="info-item-2">Unity开发涉及技能栈总结</div></div><div class="info-2"><div class="info-item-1">算法   排序方法 平均情况 最好情况 最坏情况 辅助空间 稳定性    冒泡排序 O(n²) O(nlogn) O(n²) O(1) 稳定   简单选择 O(n²) O(n²) O(n²) O(1) 稳定   直接插入 O(n²) O(n) O(n²) O(1) 稳定   希尔排序 O(nlogn)~O(n²) O(n^1.3) O(n²) O(1) 不稳定   堆排序 O(nlogn) O(nlogn) O(nlogn) O(1) 不稳定   归并排序 O(nlogn) O(nlogn) O(nlogn) O(n) 不稳定   快速排序 O(nlogn) O(nlogn) O(n²) O(nlogn)~O(n) 不稳定   排序：冒泡排序、快速排序字符串：KMP二叉树：遍历（深度、广度）递归：目录遍历，子物体查找，多维数组遍历遍历（深度，广度）数学题：斐波那契数列，杨辉三角，九皇后算法 设计模式*MVC三层开发思想MVVM：设计思想*单例模式工厂模式观察者模式 面向对象  类和对象 方法构造方法虚方法和重写重载Lambda表达式静态保护类型（public、protected、...</div></div></div></a><a class="pagination-related" href="/2018/04/02/Unity3D/02Unity_Usually/" title="Unity基础界面"><img class="cover" src="/img/loading.gif" data-lazy-src="/images/Wallpaper/10012unity3d.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2018-04-02</div><div class="info-item-2">Unity基础界面</div></div><div class="info-2"><div class="info-item-1">Unity 版本号与许可证2017.1.0 、2017.1.1 、 2017.2.0 、2017.3.4 、 5.5.3  p4 小版本号高出现bug可能性更小；一台电脑可以安装多个版本的unity，但是需要安装在不同路径；安装Unity时不能有中文路径；unity项目路径也不要有中文 菜单栏与快捷键 File (文件菜单) File 菜单主要用于打开和保存场景项目，同时也可以创建新场景。 File 菜单功能及快捷键列表：     命令 描述 快捷键    New Scene（新建场景） 创建一个新的场景 Ctrl + N   Open Scene（打开场景） 打开一个已经创建的场景 Ctrl + O   Save Scene（保存场景） 保存当前场景 Ctrl + S   Save Scene As（另存场景） 将当前场景另存为一个新场景 Ctrl + Shift + S   New Project（新建项目） 新建一个项目 无   Open Project（打开项目） 打开一个已经创建的项目 无   Save Project（保存项目） 保存当前项目 无   Build Se...</div></div></div></a><a class="pagination-related" href="/2022/10/03/Unity3D/03UnityJump/" title="跳一跳游戏开发"><img class="cover" src="/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/Winward-King/picture_host@master/image/164521941430086.JPG" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2022-10-03</div><div class="info-item-2">跳一跳游戏开发</div></div><div class="info-2"><div class="info-item-1">开发准备核心玩法 小人跳跃的距离和你按压屏幕的时长有关，按屏幕时间越长，跳的越远。 跳到盒子上可以加分，没跳到盒子上游戏结束。 连续跳到盒子中心可以成倍加分。 联网查询排行榜和上传分数。  功能需求分析 角色跳跃 相机跟随 台子自动生成 死亡判定及重新开始游戏 分数统计 色蓄力的粒子效果 角色蓄力效果 角色蓄力台子效果 飘分效果 联网排行榜功能 翻倍加分功能  开发文档创建游戏场景 创建一个Plane当地面，并重命名为Ground    创建一个材质球改变Ground颜色(默认Plane控件是不能设置材质颜色),创建一个Materials文件夹放入材质球    创建一个Cube，y轴缩放0.5当跳板，创建物体可以通过Transsform中Reset设置为3D场景正中心，在创建一个Plane当地面，跳一跳小人物碰到地面时游戏借宿，为了让跳板出现地面上方，设置y轴Postion为0.25（Reset设置居中是以组件正中心）    创建一个空物体重命名为Player作为玩家角色 Cylinder(圆柱形)控件作为玩家身体 Sphere(圆形)控件作为玩家头部 调整至合适的大小、位置 添...</div></div></div></a><a class="pagination-related" href="/2018/04/03/Unity3D/03Unity_API/" title="Unity常用的基础 API"><img class="cover" src="/img/loading.gif" data-lazy-src="/images/Wallpaper/10012unity3d.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2018-04-03</div><div class="info-item-2">Unity常用的基础 API</div></div><div class="info-2"><div class="info-item-1">Unity常用的基础 API 在线手册 Unity 脚本API 2020.02 unity5圣典中文API手册.chm   组件 坐标系 鼠标事件 Time类 Vector3 Transform Gameobject  lnput类  TransformTransform组件的成员变量   组件名称 组件作用    position 世界坐标中的位置   localPosition 父对象局部坐标系中的位置   enlerAngles 世界坐标系中以欧拉角表示的旋转   localEulerAngles 父对象局部坐标系中的欧拉角   right 对象在世界坐标系中的右方向   up 对象在世界坐标系中的上方向   forward 对象在世界坐标系中的前方向   rotation 世界坐标系中以以元数表示的旋转   localRotation 父对象局部坐标系中以四元数表示的旋转   localScale 父对象局部坐标系中的缩放比例   parent 父对象的Transform组件   Transform组件的成员函数   组件名称 组件作用    Translate 按指定的...</div></div></div></a></div></div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/loading.gif" data-lazy-src="/./img/%E5%89%91%E5%AE%A2300px.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">Winward King</div><div class="author-info-description">欢迎来到我的博客小站</div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">157</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">67</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">22</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Winward-King"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="http://wpa.qq.com/msgrd?v=3&amp;uin=2049206212&amp;site=qq&amp;menu=yes" target="_blank" title="QQ"><i class="fa-brands fa-qq"></i></a><a class="social-icon" href="https://www.instagram.com/accounts/login/?next=/wenqiang39/" target="_blank" title="instagram"><i class="fa-brands fa-instagram"></i></a><a class="social-icon" href="mailto:ybqcdxs@qq.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="https://weibo.com/5807345081/profile?topnav=1&amp;wvr=6&amp;is_all=1" target="_blank" title="微博"><i class="fa-brands fa-weibo"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">点击上方‘QQ’图标可以私聊博主<br> 欢迎Unity技术爱好者入群<br> 欢迎Nas技术爱好者入群<br> <div class="social-button"> <a class="button--animated" href="https://jq.qq.com/?_wv=1027&k=YWE4XN5C" target="_blank">😁QQ 1 群 😁</a> </div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#UI"><span class="toc-number">1.</span> <span class="toc-text">UI</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E7%9A%84UI%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.</span> <span class="toc-text">常见的UI类型</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%8E%AF%E6%8A%B1%E5%BC%8F"><span class="toc-number">2.1.</span> <span class="toc-text">环抱式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%B9%E6%A1%86"><span class="toc-number">2.2.</span> <span class="toc-text">弹框</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%A8%E5%B1%8F%E8%A6%86%E7%9B%96"><span class="toc-number">2.3.</span> <span class="toc-text">全屏覆盖</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B6%85%E5%85%A8%E5%B1%8F"><span class="toc-number">2.4.</span> <span class="toc-text">超全屏</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3D"><span class="toc-number">2.5.</span> <span class="toc-text">3D</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E8%AE%BE%E5%A4%87%E7%9A%84%E5%88%86%E8%BE%A8%E7%8E%87"><span class="toc-number">3.</span> <span class="toc-text">常见设备的分辨率</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E8%AE%BE%E5%A4%87%E6%98%BE%E7%A4%BA%E6%AF%94%E4%BE%8B"><span class="toc-number">3.1.</span> <span class="toc-text">常见设备显示比例</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E5%B8%B8%E8%A7%81%E8%AE%BE%E5%A4%87%E5%88%86%E8%BE%A8%E7%8E%87"><span class="toc-number">3.2.</span> <span class="toc-text">配置常见设备分辨率</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Unity%E7%95%8C%E9%9D%A2%E7%9A%84%E5%8F%91%E5%B1%95%E5%8F%B2"><span class="toc-number">4.</span> <span class="toc-text">Unity界面的发展史</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Unity%E7%9A%84UI%E7%B3%BB%E7%BB%9F-OnGUI%E3%80%81NGUI%E3%80%81UGUI"><span class="toc-number">5.</span> <span class="toc-text">Unity的UI系统(OnGUI、NGUI、UGUI)</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#OnGUI"><span class="toc-number">5.1.</span> <span class="toc-text">OnGUI</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#NGUI"><span class="toc-number">5.2.</span> <span class="toc-text">NGUI</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#UGUI%EF%BC%9A%E5%AE%98%E6%96%B9%E5%88%B6%E4%BD%9C%E7%9A%84UI%E7%B3%BB%E7%BB%9F%EF%BC%8CNGUI%E4%BD%9C%E8%80%85%E5%BC%80%E5%8F%91"><span class="toc-number">5.3.</span> <span class="toc-text">UGUI：官方制作的UI系统，NGUI作者开发</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#UGUI%E5%92%8COnGUI-NGUI%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">5.4.</span> <span class="toc-text">UGUI和OnGUI,NGUI的区别</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/10/27/Network/01SassCF/" title="Cloudflare Tunnel访问加速|Saas回源"><img src="/img/loading.gif" data-lazy-src="/images/Wallpaper/cloudflare.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Cloudflare Tunnel访问加速|Saas回源"/></a><div class="content"><a class="title" href="/2025/10/27/Network/01SassCF/" title="Cloudflare Tunnel访问加速|Saas回源">Cloudflare Tunnel访问加速|Saas回源</a><time datetime="2025-10-27T02:30:00.000Z" title="发表于 2025-10-27 10:30:00">2025-10-27</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/10/20/Git/05GitTortoiseGit/" title="Git可视化工具"><img src="/img/loading.gif" data-lazy-src="/images/Wallpaper/git00123.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Git可视化工具"/></a><div class="content"><a class="title" href="/2023/10/20/Git/05GitTortoiseGit/" title="Git可视化工具">Git可视化工具</a><time datetime="2023-10-20T12:00:00.000Z" title="发表于 2023-10-20 20:00:00">2023-10-20</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/07/23/Unity_Job/01Unity_ADB/" title="Unity中ADB调试配置及VR设备处理"><img src="/img/loading.gif" data-lazy-src="/images/Wallpaper/10012unity3d.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Unity中ADB调试配置及VR设备处理"/></a><div class="content"><a class="title" href="/2023/07/23/Unity_Job/01Unity_ADB/" title="Unity中ADB调试配置及VR设备处理">Unity中ADB调试配置及VR设备处理</a><time datetime="2023-07-23T14:20:00.000Z" title="发表于 2023-07-23 22:20:00">2023-07-23</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/06/07/Hardware/06OpenWRTLocal/" title="OpenWRT本地编译(Lede)"><img src="/img/loading.gif" data-lazy-src="/images/Wallpaper/openwrt.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="OpenWRT本地编译(Lede)"/></a><div class="content"><a class="title" href="/2023/06/07/Hardware/06OpenWRTLocal/" title="OpenWRT本地编译(Lede)">OpenWRT本地编译(Lede)</a><time datetime="2023-06-07T04:30:00.000Z" title="发表于 2023-06-07 12:30:00">2023-06-07</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/06/03/Hardware/05DDWrt/" title="DD-WRT"><img src="/img/loading.gif" data-lazy-src="/images/Wallpaper/openwrt.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="DD-WRT"/></a><div class="content"><a class="title" href="/2023/06/03/Hardware/05DDWrt/" title="DD-WRT">DD-WRT</a><time datetime="2023-06-03T04:30:00.000Z" title="发表于 2023-06-03 12:30:00">2023-06-03</time></div></div></div></div></div></div></main><footer id="footer"><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2017 - 2025 By Winward King</span></div><div class="footer_custom_text">欢迎来到我的博客小站</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="前往评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=5.5.1"></script><script src="/js/main.js?v=5.5.1"></script><script src="/js/tw_cn.js?v=5.5.1"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@6.0.33/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@5.2.0/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@19.1.3/dist/lazyload.iife.min.js"></script><div class="js-pjax"><script>(() => {
  const isShuoshuo = GLOBAL_CONFIG_SITE.pageType === 'shuoshuo'
  const option = null

  const getCount = () => {
    const countELement = document.getElementById('twikoo-count')
    if(!countELement) return
    twikoo.getCommentsCount({
      envId: 'https://twikoobot.837888.xyz',
      region: '',
      urls: [window.location.pathname],
      includeReply: false
    }).then(res => {
      countELement.textContent = res[0].count
    }).catch(err => {
      console.error(err)
    })
  }

  const init = (el = document, path = location.pathname) => {
    twikoo.init({
      el: el.querySelector('#twikoo-wrap'),
      envId: 'https://twikoobot.837888.xyz',
      region: '',
      onCommentLoaded: () => {
        btf.loadLightbox(document.querySelectorAll('#twikoo .tk-content img:not(.tk-owo-emotion)'))
      },
      ...option,
      path: isShuoshuo ? path : (option && option.path) || path
    })

    GLOBAL_CONFIG_SITE.pageType === 'post' && getCount()

    isShuoshuo && (window.shuoshuoComment.destroyTwikoo = () => {
      if (el.children.length) {
        el.innerHTML = ''
        el.classList.add('no-comment')
      }
    })
  }

  const loadTwikoo = (el, path) => {
    if (typeof twikoo === 'object') setTimeout(() => init(el, path), 0)
    else btf.getScript('https://cdn.jsdelivr.net/npm/twikoo@1.6.44/dist/twikoo.all.min.js').then(() => init(el, path))
  }

  if (isShuoshuo) {
    'Twikoo' === 'Twikoo'
      ? window.shuoshuoComment = { loadComment: loadTwikoo }
      : window.loadOtherComment = loadTwikoo
    return
  }

  if ('Twikoo' === 'Twikoo' || !true) {
    if (true) btf.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else loadTwikoo()
  } else {
    window.loadOtherComment = loadTwikoo
  }
})()</script></div><script>window.newestComments = {
  changeContent: content => {
    if (content === '') return content

    content = content.replace(/<img.*?src="(.*?)"?[^\>]+>/ig, '[图片]') // replace image link
    content = content.replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi, '[链接]') // replace url
    content = content.replace(/<pre><code>.*?<\/pre>/gi, '[代码]') // replace code
    content = content.replace(/<code>.*?<\/code>/gi, '[代码]') // replace code
    content = content.replace(/<[^>]+>/g, "") // remove html tag

    if (content.length > 150) {
      content = content.substring(0, 150) + '...'
    }
    return content
  },

  generateHtml: (array, ele) => {
    let result = ''

    if (array.length) {
      for (let i = 0; i < array.length; i++) {
        result += '<div class="aside-list-item">'

        if (true && array[i].avatar) {
          const imgAttr = 'data-lazy-src'
          const lazyloadNative = ''
          result += `<a href="${array[i].url}" class="thumbnail"><img ${imgAttr}="${array[i].avatar}" alt="${array[i].nick}" ${lazyloadNative}></a>`
        }

        result += `<div class="content">
        <a class="comment" href="${array[i].url}" title="${array[i].content}">${array[i].content}</a>
        <div class="name"><span>${array[i].nick} / </span><time datetime="${array[i].date}">${btf.diffDate(array[i].date, true)}</time></div>
        </div></div>`
      }
    } else {
      result += '暂无评论'
    }

    ele.innerHTML = result
    window.lazyLoadInstance && window.lazyLoadInstance.update()
    window.pjax && window.pjax.refresh(ele)
  },

  newestCommentInit: (name, getComment) => {
    const $dom = document.querySelector('#card-newest-comments .aside-list')
    if ($dom) {
      const data = btf.saveToLocal.get(name)
      if (data) {
        newestComments.generateHtml(JSON.parse(data), $dom)
      } else {
        getComment($dom)
      }
    }
  },

  run: (name, getComment) => {
    newestComments.newestCommentInit(name, getComment)
    btf.addGlobalFn('pjaxComplete', () => newestComments.newestCommentInit(name, getComment), name)
  }
}</script><script>window.addEventListener('load', () => {
  const keyName = 'twikoo-newest-comments'
  const { changeContent, generateHtml, run } = window.newestComments

  const getComment = ele => {
    const runTwikoo = () => {
      twikoo.getRecentComments({
        envId: 'https://twikoobot.837888.xyz',
        region: '',
        pageSize: 6,
        includeReply: true
      }).then(res => {
        const twikooArray = res.map(e => {
          return {
            'content': changeContent(e.comment),
            'avatar': e.avatar,
            'nick': e.nick,
            'url': e.url + '#' + e.id,
            'date': new Date(e.created).toISOString()
          }
        })

        btf.saveToLocal.set(keyName, JSON.stringify(twikooArray), 10/(60*24))
        generateHtml(twikooArray, ele)
      }).catch(err => {
        console.error(err)
        ele.textContent= "无法获取评论，请确认相关配置是否正确"
      })
    }

    if (typeof twikoo === 'object') {
      runTwikoo()
    } else {
      btf.getScript('https://cdn.jsdelivr.net/npm/twikoo@1.6.44/dist/twikoo.all.min.js').then(runTwikoo)
    }
  }

  run(keyName, getComment)
})</script><div class="aplayer no-destroy" data-id="14468537744" data-server="netease" data-type="playlist" data-fixed="true" data-autoplay="false"> </div><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/dist/click-heart.min.js" async="async" mobile="false"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/metingjs/dist/Meting.min.js"></script><script>(() => {
  const destroyAplayer = () => {
    if (window.aplayers) {
      for (let i = 0; i < window.aplayers.length; i++) {
        if (!window.aplayers[i].options.fixed) {
          window.aplayers[i].destroy()
        }
      }
    }
  }

  const runMetingJS = () => {
    typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()
  }

  btf.addGlobalFn('pjaxSend', destroyAplayer, 'destroyAplayer')
  btf.addGlobalFn('pjaxComplete', loadMeting, 'runMetingJS')
})()</script><script src="https://cdn.jsdelivr.net/npm/pjax@0.2.8/pjax.min.js"></script><script>(() => {
  const pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

  window.pjax = new Pjax({
    elements: 'a:not([target="_blank"])',
    selectors: pjaxSelectors,
    cacheBust: false,
    analytics: false,
    scrollRestoration: false
  })

  const triggerPjaxFn = (val) => {
    if (!val) return
    Object.values(val).forEach(fn => {
      try {
        fn()
      } catch (err) {
        console.debug('Pjax callback failed:', err)
      }
    })
  }

  document.addEventListener('pjax:send', () => {
    // removeEventListener
    btf.removeGlobalFnEvent('pjaxSendOnce')
    btf.removeGlobalFnEvent('themeChange')

    // reset readmode
    const $bodyClassList = document.body.classList
    if ($bodyClassList.contains('read-mode')) $bodyClassList.remove('read-mode')

    triggerPjaxFn(window.globalFn.pjaxSend)
  })

  document.addEventListener('pjax:complete', () => {
    btf.removeGlobalFnEvent('pjaxCompleteOnce')
    document.querySelectorAll('script[data-pjax]').forEach(item => {
      const newScript = document.createElement('script')
      const content = item.text || item.textContent || item.innerHTML || ""
      Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
      newScript.appendChild(document.createTextNode(content))
      item.parentNode.replaceChild(newScript, item)
    })

    triggerPjaxFn(window.globalFn.pjaxComplete)
  })

  document.addEventListener('pjax:error', e => {
    if (e.request.status === 404) {
      const usePjax = true
      false
        ? (usePjax ? pjax.loadUrl('/404.html') : window.location.href = '/404.html')
        : window.location.href = e.request.responseURL
    }
  })
})()</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><i class="fas fa-spinner fa-pulse" id="loading-status" hidden="hidden"></i><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据加载中</span></div><div class="local-search-input"><input placeholder="请输入想要搜索的内容" type="text"/></div><hr/><div id="local-search-results"></div><div class="ais-Pagination" id="local-search-pagination" style="display:none;"><ul class="ais-Pagination-list"></ul></div><div id="local-search-stats"></div></div><div id="search-mask"></div><script src="/js/search/local-search.js?v=5.5.1"></script></div></div><!-- hexo injector body_end start --><div id="background-effect"></div><script src="https://cdn.jsdelivr.net/npm/three@0.121.1/build/three.min.js"></script><script src="https://cdn.jsdelivr.net/npm/vanta/dist/vanta.waves.min.js"></script><script>VANTA.WAVES({"el":"#background-effect","color":3974895,"mouseControls":true,"touchControls":true,"gyroControls":false,"minHeight":200,"minWidth":200,"scale":1,"scaleMobile":1})</script><script data-pjax>
  function butterfly_footer_beautify_injector_config(){
    var parent_div_git = document.getElementsByClassName('footer-other')[0];
    var item_html = '<div id="workboard"></div><p id="ghbdages"><a class="github-badge" target="_blank" href="https://hexo.io/" style="margin-inline:5px" data-title="博客框架为Hexo_v7.3.0" title=""><img src="/img/loading.gif" data-lazy-src="https://img.shields.io/badge/Frame-Hexo-blue?style=flat&amp;logo=hexo" alt=""/></a><a class="github-badge" target="_blank" href="https://butterfly.js.org/" style="margin-inline:5px" data-title="主题版本Butterfly_v5.5.1" title=""><img src="/img/loading.gif" data-lazy-src="https://img.shields.io/badge/Theme-Butterfly-6513df?style=flat&amp;logo=bitdefender" alt=""/></a><a class="github-badge" target="_blank" href="https://www.upyun.com/?utm_source=lianmeng&amp;utm_medium=referral" style="margin-inline:5px" data-title="本站使用又拍云为静态资源提供CDN加速" title=""><img src="/img/loading.gif" data-lazy-src="https://img.shields.io/badge/CDN-%E5%8F%88%E6%8B%8D%E4%BA%91-00b6ff?style=flat&amp;logo=data:image/png;base64,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" alt=""/></a><a class="github-badge" target="_blank" href="https://www.jsdelivr.com/" style="margin-inline:5px" data-title="本站使用JsDelivr为静态资源提供CDN加速" title=""><img src="/img/loading.gif" data-lazy-src="https://img.shields.io/badge/CDN-jsDelivr-orange?style=flat&amp;logo=jsDelivr" alt=""/></a><a class="github-badge" target="_blank" href="https://vercel.com/" style="margin-inline:5px" data-title="本站采用双线部署，默认线路托管于Vercel" title=""><img src="/img/loading.gif" data-lazy-src="https://img.shields.io/badge/Hosted-Vercel-brightgreen?style=flat&amp;logo=Vercel" alt=""/></a><a class="github-badge" target="_blank" href="https://github.com/" style="margin-inline:5px" data-title="本站项目由Github托管" title=""><img src="/img/loading.gif" data-lazy-src="https://img.shields.io/badge/Source-Github-d021d6?style=flat&amp;logo=GitHub" alt=""/></a><a class="github-badge" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" style="margin-inline:5px" data-title="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可" title=""><img src="/img/loading.gif" data-lazy-src="https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=flat&amp;logo=Claris" alt=""/></a></p>';
    console.log('已挂载butterfly_footer_beautify')
    parent_div_git.insertAdjacentHTML("beforeend",item_html)
    }
  var elist = 'null'.split(',');
  var cpage = location.pathname;
  var epage = 'all';
  var flag = 0;

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_footer_beautify_injector_config();
  }
  else if (epage === cpage){
    butterfly_footer_beautify_injector_config();
  }
  </script><script async src="/js/footer_beautify/runtime.js"></script><!-- hexo injector body_end end --><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":true,"model":{"scale":1,"hHeadPos":0.5,"vHeadPos":0.618,"jsonPath":"/live2dw/assets/assets/unitychan.model.json"},"display":{"position":"right","width":150,"height":300,"hOffset":40,"vOffset":-20},"mobile":{"show":true,"scale":0.5},"react":{"opacity":0.7},"log":false});</script></body></html>