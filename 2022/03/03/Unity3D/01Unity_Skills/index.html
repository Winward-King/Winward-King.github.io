<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Unity开发涉及技能栈总结 | Winward King's Blog</title><meta name="author" content="Winward King"><meta name="copyright" content="Winward King"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="博客">
<meta property="og:type" content="article">
<meta property="og:title" content="Unity开发涉及技能栈总结">
<meta property="og:url" content="https://winward-king.github.io/2022/03/03/Unity3D/01Unity_Skills/index.html">
<meta property="og:site_name" content="Winward King&#39;s Blog">
<meta property="og:description" content="博客">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/Winward-King/picture_host@master/image/16462048275265879d114a9d38.jpg">
<meta property="article:published_time" content="2022-03-02T16:20:00.000Z">
<meta property="article:modified_time" content="2023-03-14T07:03:41.394Z">
<meta property="article:author" content="Winward King">
<meta property="article:tag" content="unity3d">
<meta property="article:tag" content="lua">
<meta property="article:tag" content="shader">
<meta property="article:tag" content="cg">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/Winward-King/picture_host@master/image/16462048275265879d114a9d38.jpg"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Unity开发涉及技能栈总结",
  "url": "https://winward-king.github.io/2022/03/03/Unity3D/01Unity_Skills/",
  "image": "https://cdn.jsdelivr.net/gh/Winward-King/picture_host@master/image/16462048275265879d114a9d38.jpg",
  "datePublished": "2022-03-02T16:20:00.000Z",
  "dateModified": "2023-03-14T07:03:41.394Z",
  "author": [
    {
      "@type": "Person",
      "name": "Winward King",
      "url": "https://github.com/Winward-King"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://winward-king.github.io/2022/03/03/Unity3D/01Unity_Skills/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="manifest" href="/img/pwa/manifest.json"/><link rel="apple-touch-icon" sizes="180x180" href="/img/pwa/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/img/pwa/32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/img/pwa/16.png"/><link rel="mask-icon" href="/img/pwa/safari-pinned-tab.svg" color="#5bbad5"/><link rel="stylesheet" href="/css/index.css?v=5.5.1"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@7.1.0/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@6.0.33/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!true && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"top_n_per_article":1,"unescape":false,"pagination":{"enable":false,"hitsPerPage":8},"languages":{"hits_empty":"未找到符合您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":200,"highlightFullpage":true,"highlightMacStyle":true},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":80,"languages":{"author":"作者: Winward King","link":"链接: ","source":"来源: Winward King's Blog","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.12.0/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: true,
  islazyloadPlugin: false,
  isAnchor: true,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Unity开发涉及技能栈总结',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><link rel="stylesheet" href="/css/style.css"><!-- hexo injector head_end start -->
    <style>
      #background-effect {
        position: fixed !important;
        top: 0px;
        left: 0px;
        z-index: -1;
        width: 100%;
        height: 100%
      }
    </style>
  <link rel="stylesheet" href="/js/footer_beautify/runtime.css" media="print" onload="this.media='all'"><!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/./img/%E5%89%91%E5%AE%A2300px.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">156</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">65</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">21</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> 兴趣</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/books/"><i class="fa-fw fa-fw fas fa-book"></i><span> 阅读过的书</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fa-fw fas fa-video"></i><span> 看过的影视</span></a></li><li><a class="site-page child" href="/games/"><i class="fa-fw fa-fw fas fa-gamepad"></i><span> 玩过的游戏</span></a></li><li><a class="site-page child" href="/songs/"><i class="fa-fw fa-fw fas fa-music"></i><span> 听过的音乐</span></a></li></ul></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fa-solid fa-screwdriver-wrench"></i><span> 聚合</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" target="_blank" rel="noopener" href="https://nastab.837888.xyz/"><i class="fa-fw fa-solid fa-window-maximize"></i><span> 导航页</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://yun.baidu.com/"><i class="fa-fw fa-solid fa-computer"></i><span> 群晖</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://jellyfin.837888.xyz/"><i class="fa-fw fas fa-video"></i><span> 影音库</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://space.bilibili.com/28967580/"><i class="fa-fw fa-brands fa-bilibili"></i><span> 我的B站</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(https://cdn.jsdelivr.net/gh/Winward-King/picture_host@master/image/16462048275265879d114a9d38.jpg);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">Winward King's Blog</span></a><a class="nav-page-title" href="/"><span class="site-name">Unity开发涉及技能栈总结</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span>  返回首页</span></span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> 兴趣</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/books/"><i class="fa-fw fa-fw fas fa-book"></i><span> 阅读过的书</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fa-fw fas fa-video"></i><span> 看过的影视</span></a></li><li><a class="site-page child" href="/games/"><i class="fa-fw fa-fw fas fa-gamepad"></i><span> 玩过的游戏</span></a></li><li><a class="site-page child" href="/songs/"><i class="fa-fw fa-fw fas fa-music"></i><span> 听过的音乐</span></a></li></ul></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fa-solid fa-screwdriver-wrench"></i><span> 聚合</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" target="_blank" rel="noopener" href="https://nastab.837888.xyz/"><i class="fa-fw fa-solid fa-window-maximize"></i><span> 导航页</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://yun.baidu.com/"><i class="fa-fw fa-solid fa-computer"></i><span> 群晖</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://jellyfin.837888.xyz/"><i class="fa-fw fas fa-video"></i><span> 影音库</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://space.bilibili.com/28967580/"><i class="fa-fw fa-brands fa-bilibili"></i><span> 我的B站</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">Unity开发涉及技能栈总结</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-03-02T16:20:00.000Z" title="发表于 2022-03-03 00:20:00">2022-03-03</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-03-14T07:03:41.394Z" title="更新于 2023-03-14 15:03:41">2023-03-14</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Unity3D/">Unity3D</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">总字数:</span><span class="word-count">1.8k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>5分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><div id="post-outdate-notice" data="{&quot;limitDay&quot;:180,&quot;messagePrev&quot;:&quot;已经过了&quot;,&quot;messageNext&quot;:&quot;天自上次更新，文章内容可能已过时。&quot;,&quot;postUpdate&quot;:&quot;2023-03-14 15:03:41&quot;}" hidden></div><h1 id="算法"><a href="#算法" class="headerlink" title="算法"></a>算法</h1><table>
<thead>
<tr>
<th align="left">排序方法</th>
<th align="left">平均情况</th>
<th align="left">最好情况</th>
<th align="left">最坏情况</th>
<th align="left">辅助空间</th>
<th align="left">稳定性</th>
</tr>
</thead>
<tbody><tr>
<td align="left">冒泡排序</td>
<td align="left">O(n²)</td>
<td align="left">O(nlogn)</td>
<td align="left">O(n²)</td>
<td align="left">O(1)</td>
<td align="left">稳定</td>
</tr>
<tr>
<td align="left">简单选择</td>
<td align="left">O(n²)</td>
<td align="left">O(n²)</td>
<td align="left">O(n²)</td>
<td align="left">O(1)</td>
<td align="left">稳定</td>
</tr>
<tr>
<td align="left">直接插入</td>
<td align="left">O(n²)</td>
<td align="left">O(n)</td>
<td align="left">O(n²)</td>
<td align="left">O(1)</td>
<td align="left">稳定</td>
</tr>
<tr>
<td align="left">希尔排序</td>
<td align="left">O(nlogn)~O(n²)</td>
<td align="left">O(n^1.3)</td>
<td align="left">O(n²)</td>
<td align="left">O(1)</td>
<td align="left">不稳定</td>
</tr>
<tr>
<td align="left">堆排序</td>
<td align="left">O(nlogn)</td>
<td align="left">O(nlogn)</td>
<td align="left">O(nlogn)</td>
<td align="left">O(1)</td>
<td align="left">不稳定</td>
</tr>
<tr>
<td align="left">归并排序</td>
<td align="left">O(nlogn)</td>
<td align="left">O(nlogn)</td>
<td align="left">O(nlogn)</td>
<td align="left">O(n)</td>
<td align="left">不稳定</td>
</tr>
<tr>
<td align="left">快速排序</td>
<td align="left">O(nlogn)</td>
<td align="left">O(nlogn)</td>
<td align="left">O(n²)</td>
<td align="left">O(nlogn)~O(n)</td>
<td align="left">不稳定</td>
</tr>
</tbody></table>
<p>排序：冒泡排序、快速排序<br>字符串：KMP<br>二叉树：遍历（深度、广度）<br>递归：目录遍历，子物体查找，多维数组遍历<br>遍历（深度，广度）<br>数学题：斐波那契数列，杨辉三角，九皇后算法</p>
<h1 id="设计模式"><a href="#设计模式" class="headerlink" title="设计模式"></a>设计模式</h1><p>*MVC三层开发思想<br>MVVM：设计思想<br>*单例模式<br>工厂模式<br>观察者模式</p>
<h2 id="面向对象"><a href="#面向对象" class="headerlink" title="面向对象"></a>面向对象</h2><p>  类和对象</p>
<h2 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h2><p>构造方法<br>虚方法和重写<br>重载<br>Lambda表达式<br>静态<br>保护类型（public、protected、private）</p>
<h2 id="结构体"><a href="#结构体" class="headerlink" title="结构体"></a>结构体</h2><h2 id="抽象类和接口"><a href="#抽象类和接口" class="headerlink" title="抽象类和接口"></a>抽象类和接口</h2><p> 抽象方法</p>
<h2 id="继承和复合"><a href="#继承和复合" class="headerlink" title="继承和复合"></a>继承和复合</h2><p>继承：is a<br>复合：has a </p>
<h2 id="宏指令（比C-弱）"><a href="#宏指令（比C-弱）" class="headerlink" title="宏指令（比C++弱）"></a>宏指令（比C++弱）</h2><h1 id="数据容器-数据组织结构，序列化，反序列"><a href="#数据容器-数据组织结构，序列化，反序列" class="headerlink" title="数据容器(数据组织结构，序列化，反序列)"></a>数据容器(数据组织结构，序列化，反序列)</h1><p>XML(简化成JSON)<br>JSON(简化成ProtoBuffer)<br>ProtoBuffer</p>
<h1 id="服务器通信"><a href="#服务器通信" class="headerlink" title="服务器通信"></a>服务器通信</h1><h2 id="OSI七层模型"><a href="#OSI七层模型" class="headerlink" title="OSI七层模型"></a>OSI七层模型</h2><p>应用层（HTTP）<br>表示层<br>会话层<br>传输层（TCP,UDP）<br>网络层(IP)<br>数据链路层<br>物理层</p>
<h2 id="TCP-IP五层模型的协议"><a href="#TCP-IP五层模型的协议" class="headerlink" title="TCP&#x2F;IP五层模型的协议"></a>TCP&#x2F;IP五层模型的协议</h2><p>应用层（HTTP）<br>传输层（TCP,UDP）<br>网络层(IP)<br>数据链路层<br>物理层</p>
<h2 id="HTTP通信"><a href="#HTTP通信" class="headerlink" title="HTTP通信"></a>HTTP通信</h2><p>连接一次后断开<br>Request- Request<br>基于TCP<br>URL地址（协议[http&#x2F;https]（不加密&#x2F;加密），主机，端口，路径，文件，传参）<br>URL参数 参数1&#x3D;参数1值&amp;参数2&#x3D;参数2值<br>状态号：200成功，302重定向,403找到了禁止访问，404找不到，500服务器内部错误（java把状态号屏蔽也出现这个）<br>头部信息：编码格式，cookie<br>Unity内部封装的HTTP请求类</p>
<h2 id="TCP长连接通信"><a href="#TCP长连接通信" class="headerlink" title="TCP长连接通信"></a>TCP长连接通信</h2><p>TCP连接（三次握手）与断开（四次挥手）<br>套接字<br>TCP连接与断开数发送和接收<br>端口绑定（服务器）</p>
<h2 id="数据包处理"><a href="#数据包处理" class="headerlink" title="数据包处理"></a>数据包处理</h2><p>打包，解包<br>分包,粘包<br>心跳包</p>
<h2 id="开发"><a href="#开发" class="headerlink" title="开发"></a>开发</h2><p>消息号-回调函数<br>发送消息<br>接受消息</p>
<h2 id="UDP通信"><a href="#UDP通信" class="headerlink" title="UDP通信"></a>UDP通信</h2><p>套接字<br>帧序<br>服务器帧定时器<br>数据同步到unity系统<br>防作弊</p>
<h1 id="Unity"><a href="#Unity" class="headerlink" title="Unity"></a>Unity</h1><p>编辑器，Editor工具开发<br>基础API（GameObject，Transform，物理引擎）<br>场景搭建（地形编辑，NavMesh）<br>相机系统（参数设定，多相机叠加，渲染层，排序层）<br>声音系统（音频编辑系统，音频播放系统[2D,3D]）<br>动画系统（Animator状态机，Animation动画片段，Avatar,融合树，IK，事件插入）<br>资源系统（IO操作（C#），Resources（打在包里）,AssetBundle）<br>UI系统（UGUI（基础组件，复合组件），DOTween）<br>Eventsystem（2D给UI,3D给相机）<br>3D数学（向量和点，坐标系转换[世界坐标系和本地坐标系]，欧拉角和四元数）</p>
<h1 id="优化技巧"><a href="#优化技巧" class="headerlink" title="优化技巧"></a>优化技巧</h1><h2 id="降低DrawCall"><a href="#降低DrawCall" class="headerlink" title="降低DrawCall"></a>降低DrawCall</h2><p>  图集<br>  少写pass通道<br>  GPUInstancer</p>
<h2 id="减少Update生命周期函数"><a href="#减少Update生命周期函数" class="headerlink" title="减少Update生命周期函数"></a>减少Update生命周期函数</h2><p>  计时器<br>多个脚本，注册给一个脚本，在一个脚本中调用其他脚本的Update</p>
<h2 id="对象池"><a href="#对象池" class="headerlink" title="对象池"></a>对象池</h2><p>创建（单帧，跨帧）<br>回收</p>
<h2 id="il2cpp的代码优化（C-转C-）"><a href="#il2cpp的代码优化（C-转C-）" class="headerlink" title="il2cpp的代码优化（C#转C++）"></a>il2cpp的代码优化（C#转C++）</h2><p>避免装箱拆箱（不用object）<br>避免使用foreach（遍历有垃圾碎片）尤其注意Update中编写foreach<br>减少在上线项目中，使用Debug（性能开销大）</p>
<h2 id="静态配表"><a href="#静态配表" class="headerlink" title="静态配表"></a>静态配表</h2><p>将不常变的数据，生成为数据（JSON，XML，ProtoBuffer）文件，可以减少服务器传递的数据量</p>
<h2 id="减少CPU消耗"><a href="#减少CPU消耗" class="headerlink" title="减少CPU消耗"></a>减少CPU消耗</h2><p>动画裁剪(动画在相机视椎体外不运行）</p>
<h2 id="内存优化"><a href="#内存优化" class="headerlink" title="内存优化"></a>内存优化</h2><p>（gpu参考博客 课程笔记完成）<br>飞出屏幕，不需要再次渲染的对象，记得销毁<br>（参考博客 AB包）<br>加载带有资源文件（精灵）的资源时，内存会上升，当带有资源的GameObject被销毁时，资源所占用的内存，不会被释放(懒释放-为了快)，Resources.UnloadUnusedAssets()<br>对象存储在静态变量上，变量不会被垃圾回收机制影响，当不再使用时，需要赋值为null<br>继承自IDispose接口的对象，当不再使用时，需要调用dispose()函数<br>WWW( )<br>Stream处理 （流处理）<br>Using（）<br>{<br>&#x2F;&#x2F;自动执行dispose（）函数   文件操作<br>}</p>
<h3 id="Using用法例如"><a href="#Using用法例如" class="headerlink" title="Using用法例如"></a>Using用法例如</h3><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">StreamReader sr = <span class="keyword">new</span> StreamReader(“文件路径”)；</span><br><span class="line"><span class="built_in">string</span> content = sr.ReadToEnd();</span><br><span class="line">sr.close();</span><br><span class="line">sr.Dispose();</span><br><span class="line"><span class="comment">//代码优化</span></span><br><span class="line"><span class="keyword">using</span>(streamReader sr = <span class="keyword">new</span> StreamReader(<span class="string">&quot;文件路径&quot;</span>))</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">string</span> content = sr.ReadToEnd();</span><br><span class="line">sr.close();</span><br><span class="line"><span class="comment">//隐式调用sr的Dispose方法</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="异步实现"><a href="#异步实现" class="headerlink" title="异步实现"></a>异步实现</h2><p>线程在Unity中是存在，注意不能在线程中操作Unity的对象树 （gameobject操作）</p>
<p>异步加载场景（代码是协同，底层是线程）<br>异步加载Resources（代码是协同,底层是线程)<br>异步加载AB包（代码是协同，底层是线程)<br>异步加载AB包中的资源(代码是协同，底层是线程）</p>
<p>HTTP请求（代码是协同，底层是线程)<br>TCP请求(代码是线程)</p>
<h2 id="延迟实现"><a href="#延迟实现" class="headerlink" title="延迟实现"></a>延迟实现</h2><p>利用协同实现（yield return null)，可以实现每一帧做一些事情</p>
<p>列表页元素过多时，如果在一帧中加载所有cell，则会卡顿，可以使用逐帧加载多个cell的方式,或通过滚动条的OnValueChange回调函数,执行多次加载</p>
<h1 id="Lua"><a href="#Lua" class="headerlink" title="Lua"></a>Lua</h1><h2 id="Lua的基础语法-表和面向对象"><a href="#Lua的基础语法-表和面向对象" class="headerlink" title="Lua的基础语法(表和面向对象)"></a>Lua的基础语法(表和面向对象)</h2><p>.tolua独立开发与xlua腾讯<br>Lua和JavaScript很像（一切皆对象）</p>
<h2 id="C-与xLua的互调"><a href="#C-与xLua的互调" class="headerlink" title="C#与xLua的互调"></a>C#与xLua的互调</h2><p>C#调xLua  为了执行一些生命周期函数<br>xLua调C#  为了实现一些API</p>
<h2 id="热更新"><a href="#热更新" class="headerlink" title="热更新"></a>热更新</h2><h1 id="Shader"><a href="#Shader" class="headerlink" title="Shader"></a>Shader</h1><p>矩阵运算，齐次矩阵，坐标系转换<br>渲染流水线<br>Cg语言<br>顶点、片元着色器<br>属性控制与数据传递<br>光照（兰伯特定律，高光）</p>
<h2 id="着色方式"><a href="#着色方式" class="headerlink" title="着色方式"></a>着色方式</h2><h3 id="Phong着色，"><a href="#Phong着色，" class="headerlink" title="Phong着色，"></a>Phong着色，</h3><h3 id="高洛德着色"><a href="#高洛德着色" class="headerlink" title="高洛德着色"></a>高洛德着色</h3><h2 id="纹理渲染"><a href="#纹理渲染" class="headerlink" title="纹理渲染"></a>纹理渲染</h2><p>主纹理，光照纹理</p>
<h2 id="渲染指令"><a href="#渲染指令" class="headerlink" title="渲染指令"></a>渲染指令</h2><p>多pass通道，<br>渲染队列，深度测试，深度缓冲，颜色缓冲<br>反向裁剪<br>透明度测试<br>片元丢弃</p>
<h1 id="版本控制"><a href="#版本控制" class="headerlink" title="版本控制"></a>版本控制</h1><p>SVN:基于版本控制的集中式管理系统<br>学习：<a target="_blank" rel="noopener" href="https://www.runoob.com/svn/svn-tutorial.html">https://www.runoob.com/svn/svn-tutorial.html</a><br>软件：<br>Git:基于分支实现的版本控制软件<br>学习：<a target="_blank" rel="noopener" href="http://www.liaoxuefeng.com/wiki/">www.liaoxuefeng.com/wiki/</a><br>软件：<a target="_blank" rel="noopener" href="http://www.sourcetreeapp.com/">www.sourcetreeapp.com</a></p>
<h1 id="VR"><a href="#VR" class="headerlink" title="VR"></a>VR</h1><p>硬件搭建<br>Unity中整合SteamVR（OpenVR）<br>开发</p>
<h2 id="动作设置"><a href="#动作设置" class="headerlink" title="动作设置"></a>动作设置</h2><p>设置VR场景<br>接入设备(两个手柄，眼镜)</p>
<h2 id="功能实现"><a href="#功能实现" class="headerlink" title="功能实现"></a>功能实现</h2><p>人物瞬移<br>道具拾取<br>UI交互</p>
<h2 id="知识点"><a href="#知识点" class="headerlink" title="知识点"></a>知识点</h2><p>物理引擎<br>场景搭建<br>Shader</p>
<h1 id="AR"><a href="#AR" class="headerlink" title="AR"></a>AR</h1><p>SDK添加<br>图片识别<br>平面感知</p>
<h2 id="打包和SDK接入"><a href="#打包和SDK接入" class="headerlink" title="打包和SDK接入"></a>打包和SDK接入</h2><p>NDK（Unity c#-c++） SDK(android)  JDK(java)</p>
<h2 id="打包"><a href="#打包" class="headerlink" title="打包"></a>打包</h2><p>环境配置<br>参数设定<br>真机测试(LogViewer)<br>ADB观察打印（主要是安卓 ios 直接xcode）</p>
<h2 id="SDK接入-c-和原生语言）"><a href="#SDK接入-c-和原生语言）" class="headerlink" title="SDK接入(c#和原生语言）"></a>SDK接入(c#和原生语言）</h2><p>配置AS<br>根据文档，修改代码,生成AAR包<br>将aar包放入Plugins目录<br>C#调用unity写好的桥梁代码，进而调用java</p>
<h1 id="Unity项目上传GitHub的注意点"><a href="#Unity项目上传GitHub的注意点" class="headerlink" title="Unity项目上传GitHub的注意点"></a>Unity项目上传GitHub的注意点</h1><p>Unity项目中必须上传的3个文件夹</p>
<ul>
<li>Assets——关系到项目的资源</li>
<li>Packages——关系到导入的一些包</li>
<li>ProjectSettings——关系到你的项目设置<br>Assets文件夹里的以meta为后缀的文件也要上传</li>
</ul>
<script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css"></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a target="_blank" rel="noopener" href="https://github.com/Winward-King">Winward King</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://winward-king.github.io/2022/03/03/Unity3D/01Unity_Skills/">https://winward-king.github.io/2022/03/03/Unity3D/01Unity_Skills/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://winward-king.github.io" target="_blank">Winward King's Blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/unity3d/">unity3d</a><a class="post-meta__tags" href="/tags/lua/">lua</a><a class="post-meta__tags" href="/tags/shader/">shader</a><a class="post-meta__tags" href="/tags/cg/">cg</a></div><div class="post-share"><div class="social-share" data-image="https://cdn.jsdelivr.net/gh/Winward-King/picture_host@master/image/16462048275265879d114a9d38.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/sharejs/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i>赞助</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/img/wechat.png" target="_blank"><img class="post-qr-code-img" src="/img/wechat.png" alt="微信"/></a><div class="post-qr-code-desc">微信</div></li></ul></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2022/03/02/Git/03GitBigToSmall/" title="Git大小写不敏感"><img class="cover" src="/images/Wallpaper/git00123.webp" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">Git大小写不敏感</div></div><div class="info-2"><div class="info-item-1">问题现象： 本地修改文件名、文件夹名（只变化大小写），提交远程仓库后，仓库中对应内容名称大小写并没有变化 本地仓库原本是大写文件，上传到远程仓库后变成小写，导致路径不正确，网页加载为404  推测原因 git 默认对大小写不敏感，文件或者文件夹名修改大小写后，提交后git远程仓库上内容不变动  测试 在gitee仓库直接重命名，在从网页加载，可以成功加载网页  解决方法： 方法1.mv命令，然后继续走其他git提交流程即可  1git mv a A  （ 原来小写名称a，想要修改成的大写名称A） 　　　　  方法2.修改默认忽略配置为禁止状态，注意：此状态下修改文件夹名称提交后，老文件夹名称不删除  1git config core.ignorecase false    方法3. 修改文件夹、文件名称不要只修改大小写  补充： 撤销上次commit：  1git reset HEAD~    // 撤销所有commit。。   撤销上次add&#x2F;删除文件：rm后要add、commit后才能push  1git rm --cached -r 路径/文件名    取消git...</div></div></div></a><a class="pagination-related" href="/2022/05/31/Linux/03Ubuntu/" title="Ubuntu"><img class="cover" src="/images/Wlop/70.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">Ubuntu</div></div><div class="info-2"><div class="info-item-1">UbuntuUbuntu是适用于企业服务器、桌面电脑、云、IoT物联网的现代化开源Linux操作系统。 在线网站 https://ubuntu.com/  常用设置设置系统语言为中文 Ubuntu设置中文界面   点击左下角的显示应用程序图标,找到Settings 进入Settings页面，左侧选择Region &amp; Language，右侧底部点击Manage Installed Languages 找到 Chinese，点击Install进行安装。 弹出的身份验证框输入密码验证 展开框里选择Chinese后点击右上角的Add  Ubuntu更改国内镜像源（阿里、网易、清华、中科大） Ubuntu更改国内镜像源（阿里、网易、清华、中科大）   备份源列表  1sudo cp /etc/apt/sources.list /etc/apt/sources.list.backup  直接修改(将列表复制进去)  1sudo gedit /etc/apt/sources.list  更新  1sudo apt-get update  Q&amp;A Ubuntu的Livepatch...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/2023/07/23/Unity_Job/01Unity_ADB/" title="Unity中ADB调试配置及VR设备处理"><img class="cover" src="/images/Wallpaper/10012unity3d.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-07-23</div><div class="info-item-2">Unity中ADB调试配置及VR设备处理</div></div><div class="info-2"><div class="info-item-1">ADB 在 Android、一体机、VR头显、开发环境中，出现无法覆盖安装新版APK，或文件冲突问题，文件签名异常覆盖。 常用命令行1234567891011121314adb help                        # 查看adb的相关信息，包括版本号，常用命令adb version                     # 查看adb版本adb install abc.apk             # 安装apkadb install -r abc.apk          # 覆盖安装adb uninstall com.zhy.app       # 卸载APPadb uninstall -k com.zhy.app    # 保留数据卸载APPadb devices                     # 查看连接主机的设备，adb logcat                      # 捕获设备的日志信息adb logcat -s                   # Unity 专门获得Unity相关的日志（注意U要大写）adb push...</div></div></div></a><a class="pagination-related" href="/2022/02/23/Unity3D/01Unity_Hexo/" title="Unity知识点梳理及思维导图"><img class="cover" src="/images/Wallpaper/10012unity3d.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2022-02-23</div><div class="info-item-2">Unity知识点梳理及思维导图</div></div><div class="info-2"><div class="info-item-1">思维导图 unity3d 基础 API 组件 坐标系 生命周期 鼠标事件 Time类 Vector3 Transform Gameobject  Random lnput类 Mathf类   物理引擎(API) 刚体 碰撞体 触发器 射线   3D 数学 向量和点 坐标系转换 [世界坐标系和本地坐标系] 欧拉角和四元数   地形系统 导航系统 NavMesh   相机系统 参数设定 多相机叠加 渲染层 排序层   UI 系统 UGUI（基础组件，复合组件） NGUI DOTween   灯光系统 粒子系统 编辑器 Editor 工具开发   音频系统 音频编辑系统 音频播放系统 [2D,3D]   资源系统 IO 操作（C#） Resources（打在包里） AssetBundle   动画系统 Animator 状态机 Animation 动画片段 Avatar 融合树 IK 事件插入   Eventsystem 2D 给 UI 3D 给相机   Shader 优化技巧 服务器通信 IP TCP UDP HTTP   项目打包 PC WebGL IOS Android   热更...</div></div></div></a><a class="pagination-related" href="/2018/04/01/Unity3D/01Unity_Profile/" title="Unity简介"><img class="cover" src="/images/Wallpaper/10012unity3d.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2018-04-01</div><div class="info-item-2">Unity简介</div></div><div class="info-2"><div class="info-item-1">Unity 简介由 Unity Technologies 公司开发的用于轻松创建游戏和三维互动内容的开发工具，是一个国际领先的专业游戏引擎。 Unity 网站资源 (CN)   资源名称 网址    Unity中国官网 https://unity.cn/   Unity开发者社区 https://developer.unity.cn/   Unity Learn Premium https://unity.com/cn/products/unity-learn   Unity 网站资源 (World)   资源名称 网址    Unity官网 http://unity3d.com   Unity论坛 http://forum.china.unity3d.com/fourm.php   Unity博客 http://answers.unity3d.com/index.html   Unity官方在线案例 http://unity3d.com/gallery/demos/live-demos   Unity官方项目源文件 http://nity3d.com/gallery/demos...</div></div></div></a><a class="pagination-related" href="/2018/04/02/Unity3D/02Unity_Usually/" title="Unity基础界面"><img class="cover" src="/images/Wallpaper/10012unity3d.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2018-04-02</div><div class="info-item-2">Unity基础界面</div></div><div class="info-2"><div class="info-item-1">Unity 版本号与许可证2017.1.0 、2017.1.1 、 2017.2.0 、2017.3.4 、 5.5.3  p4 小版本号高出现bug可能性更小；一台电脑可以安装多个版本的unity，但是需要安装在不同路径；安装Unity时不能有中文路径；unity项目路径也不要有中文 菜单栏与快捷键 File (文件菜单) File 菜单主要用于打开和保存场景项目，同时也可以创建新场景。 File 菜单功能及快捷键列表：     命令 描述 快捷键    New Scene（新建场景） 创建一个新的场景 Ctrl + N   Open Scene（打开场景） 打开一个已经创建的场景 Ctrl + O   Save Scene（保存场景） 保存当前场景 Ctrl + S   Save Scene As（另存场景） 将当前场景另存为一个新场景 Ctrl + Shift + S   New Project（新建项目） 新建一个项目 无   Open Project（打开项目） 打开一个已经创建的项目 无   Save Project（保存项目） 保存当前项目 无   Build Se...</div></div></div></a><a class="pagination-related" href="/2022/10/03/Unity3D/03UnityJump/" title="跳一跳游戏开发"><img class="cover" src="https://cdn.jsdelivr.net/gh/Winward-King/picture_host@master/image/164521941430086.JPG" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2022-10-03</div><div class="info-item-2">跳一跳游戏开发</div></div><div class="info-2"><div class="info-item-1">开发准备核心玩法 小人跳跃的距离和你按压屏幕的时长有关，按屏幕时间越长，跳的越远。 跳到盒子上可以加分，没跳到盒子上游戏结束。 连续跳到盒子中心可以成倍加分。 联网查询排行榜和上传分数。  功能需求分析 角色跳跃 相机跟随 台子自动生成 死亡判定及重新开始游戏 分数统计 色蓄力的粒子效果 角色蓄力效果 角色蓄力台子效果 飘分效果 联网排行榜功能 翻倍加分功能  开发文档创建游戏场景 创建一个Plane当地面，并重命名为Ground    创建一个材质球改变Ground颜色(默认Plane控件是不能设置材质颜色),创建一个Materials文件夹放入材质球    创建一个Cube，y轴缩放0.5当跳板，创建物体可以通过Transsform中Reset设置为3D场景正中心，在创建一个Plane当地面，跳一跳小人物碰到地面时游戏借宿，为了让跳板出现地面上方，设置y轴Postion为0.25（Reset设置居中是以组件正中心）    创建一个空物体重命名为Player作为玩家角色 Cylinder(圆柱形)控件作为玩家身体 Sphere(圆形)控件作为玩家头部 调整至合适的大小、位置 添...</div></div></div></a><a class="pagination-related" href="/2018/04/03/Unity3D/03Unity_API/" title="Unity常用的基础 API"><img class="cover" src="/images/Wallpaper/10012unity3d.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2018-04-03</div><div class="info-item-2">Unity常用的基础 API</div></div><div class="info-2"><div class="info-item-1">Unity常用的基础 API 在线手册 Unity 脚本API 2020.02 unity5圣典中文API手册.chm   组件 坐标系 鼠标事件 Time类 Vector3 Transform Gameobject  lnput类  TransformTransform组件的成员变量   组件名称 组件作用    position 世界坐标中的位置   localPosition 父对象局部坐标系中的位置   enlerAngles 世界坐标系中以欧拉角表示的旋转   localEulerAngles 父对象局部坐标系中的欧拉角   right 对象在世界坐标系中的右方向   up 对象在世界坐标系中的上方向   forward 对象在世界坐标系中的前方向   rotation 世界坐标系中以以元数表示的旋转   localRotation 父对象局部坐标系中以四元数表示的旋转   localScale 父对象局部坐标系中的缩放比例   parent 父对象的Transform组件   Transform组件的成员函数   组件名称 组件作用    Translate 按指定的...</div></div></div></a></div></div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/./img/%E5%89%91%E5%AE%A2300px.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">Winward King</div><div class="author-info-description">欢迎来到我的博客小站</div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">156</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">65</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">21</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Winward-King"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="http://wpa.qq.com/msgrd?v=3&amp;uin=2049206212&amp;site=qq&amp;menu=yes" target="_blank" title="QQ"><i class="fa-brands fa-qq"></i></a><a class="social-icon" href="https://www.instagram.com/accounts/login/?next=/wenqiang39/" target="_blank" title="instagram"><i class="fa-brands fa-instagram"></i></a><a class="social-icon" href="mailto:ybqcdxs@qq.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="https://weibo.com/5807345081/profile?topnav=1&amp;wvr=6&amp;is_all=1" target="_blank" title="微博"><i class="fa-brands fa-weibo"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">点击上方‘QQ’图标可以私聊博主<br> 欢迎Unity技术爱好者入群<br> 欢迎Nas技术爱好者入群<br> <div class="social-button"> <a class="button--animated" href="https://jq.qq.com/?_wv=1027&k=YWE4XN5C" target="_blank">😁QQ 1 群 😁</a> </div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AE%97%E6%B3%95"><span class="toc-number">1.</span> <span class="toc-text">算法</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F"><span class="toc-number">2.</span> <span class="toc-text">设计模式</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1"><span class="toc-number">2.1.</span> <span class="toc-text">面向对象</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%B9%E6%B3%95"><span class="toc-number">2.2.</span> <span class="toc-text">方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E4%BD%93"><span class="toc-number">2.3.</span> <span class="toc-text">结构体</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8A%BD%E8%B1%A1%E7%B1%BB%E5%92%8C%E6%8E%A5%E5%8F%A3"><span class="toc-number">2.4.</span> <span class="toc-text">抽象类和接口</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%A7%E6%89%BF%E5%92%8C%E5%A4%8D%E5%90%88"><span class="toc-number">2.5.</span> <span class="toc-text">继承和复合</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%8F%E6%8C%87%E4%BB%A4%EF%BC%88%E6%AF%94C-%E5%BC%B1%EF%BC%89"><span class="toc-number">2.6.</span> <span class="toc-text">宏指令（比C++弱）</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%AE%B9%E5%99%A8-%E6%95%B0%E6%8D%AE%E7%BB%84%E7%BB%87%E7%BB%93%E6%9E%84%EF%BC%8C%E5%BA%8F%E5%88%97%E5%8C%96%EF%BC%8C%E5%8F%8D%E5%BA%8F%E5%88%97"><span class="toc-number">3.</span> <span class="toc-text">数据容器(数据组织结构，序列化，反序列)</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%80%9A%E4%BF%A1"><span class="toc-number">4.</span> <span class="toc-text">服务器通信</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#OSI%E4%B8%83%E5%B1%82%E6%A8%A1%E5%9E%8B"><span class="toc-number">4.1.</span> <span class="toc-text">OSI七层模型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#TCP-IP%E4%BA%94%E5%B1%82%E6%A8%A1%E5%9E%8B%E7%9A%84%E5%8D%8F%E8%AE%AE"><span class="toc-number">4.2.</span> <span class="toc-text">TCP&#x2F;IP五层模型的协议</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#HTTP%E9%80%9A%E4%BF%A1"><span class="toc-number">4.3.</span> <span class="toc-text">HTTP通信</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#TCP%E9%95%BF%E8%BF%9E%E6%8E%A5%E9%80%9A%E4%BF%A1"><span class="toc-number">4.4.</span> <span class="toc-text">TCP长连接通信</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%8C%85%E5%A4%84%E7%90%86"><span class="toc-number">4.5.</span> <span class="toc-text">数据包处理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%80%E5%8F%91"><span class="toc-number">4.6.</span> <span class="toc-text">开发</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#UDP%E9%80%9A%E4%BF%A1"><span class="toc-number">4.7.</span> <span class="toc-text">UDP通信</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Unity"><span class="toc-number">5.</span> <span class="toc-text">Unity</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BC%98%E5%8C%96%E6%8A%80%E5%B7%A7"><span class="toc-number">6.</span> <span class="toc-text">优化技巧</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%99%8D%E4%BD%8EDrawCall"><span class="toc-number">6.1.</span> <span class="toc-text">降低DrawCall</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%8F%E5%B0%91Update%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%87%BD%E6%95%B0"><span class="toc-number">6.2.</span> <span class="toc-text">减少Update生命周期函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E6%B1%A0"><span class="toc-number">6.3.</span> <span class="toc-text">对象池</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#il2cpp%E7%9A%84%E4%BB%A3%E7%A0%81%E4%BC%98%E5%8C%96%EF%BC%88C-%E8%BD%ACC-%EF%BC%89"><span class="toc-number">6.4.</span> <span class="toc-text">il2cpp的代码优化（C#转C++）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9D%99%E6%80%81%E9%85%8D%E8%A1%A8"><span class="toc-number">6.5.</span> <span class="toc-text">静态配表</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%8F%E5%B0%91CPU%E6%B6%88%E8%80%97"><span class="toc-number">6.6.</span> <span class="toc-text">减少CPU消耗</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%86%85%E5%AD%98%E4%BC%98%E5%8C%96"><span class="toc-number">6.7.</span> <span class="toc-text">内存优化</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Using%E7%94%A8%E6%B3%95%E4%BE%8B%E5%A6%82"><span class="toc-number">6.7.1.</span> <span class="toc-text">Using用法例如</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%82%E6%AD%A5%E5%AE%9E%E7%8E%B0"><span class="toc-number">6.8.</span> <span class="toc-text">异步实现</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BB%B6%E8%BF%9F%E5%AE%9E%E7%8E%B0"><span class="toc-number">6.9.</span> <span class="toc-text">延迟实现</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Lua"><span class="toc-number">7.</span> <span class="toc-text">Lua</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Lua%E7%9A%84%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95-%E8%A1%A8%E5%92%8C%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1"><span class="toc-number">7.1.</span> <span class="toc-text">Lua的基础语法(表和面向对象)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#C-%E4%B8%8ExLua%E7%9A%84%E4%BA%92%E8%B0%83"><span class="toc-number">7.2.</span> <span class="toc-text">C#与xLua的互调</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%83%AD%E6%9B%B4%E6%96%B0"><span class="toc-number">7.3.</span> <span class="toc-text">热更新</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Shader"><span class="toc-number">8.</span> <span class="toc-text">Shader</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9D%80%E8%89%B2%E6%96%B9%E5%BC%8F"><span class="toc-number">8.1.</span> <span class="toc-text">着色方式</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Phong%E7%9D%80%E8%89%B2%EF%BC%8C"><span class="toc-number">8.1.1.</span> <span class="toc-text">Phong着色，</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%AB%98%E6%B4%9B%E5%BE%B7%E7%9D%80%E8%89%B2"><span class="toc-number">8.1.2.</span> <span class="toc-text">高洛德着色</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BA%B9%E7%90%86%E6%B8%B2%E6%9F%93"><span class="toc-number">8.2.</span> <span class="toc-text">纹理渲染</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B8%B2%E6%9F%93%E6%8C%87%E4%BB%A4"><span class="toc-number">8.3.</span> <span class="toc-text">渲染指令</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6"><span class="toc-number">9.</span> <span class="toc-text">版本控制</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#VR"><span class="toc-number">10.</span> <span class="toc-text">VR</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8A%A8%E4%BD%9C%E8%AE%BE%E7%BD%AE"><span class="toc-number">10.1.</span> <span class="toc-text">动作设置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8A%9F%E8%83%BD%E5%AE%9E%E7%8E%B0"><span class="toc-number">10.2.</span> <span class="toc-text">功能实现</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">10.3.</span> <span class="toc-text">知识点</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#AR"><span class="toc-number">11.</span> <span class="toc-text">AR</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%89%93%E5%8C%85%E5%92%8CSDK%E6%8E%A5%E5%85%A5"><span class="toc-number">11.1.</span> <span class="toc-text">打包和SDK接入</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%89%93%E5%8C%85"><span class="toc-number">11.2.</span> <span class="toc-text">打包</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SDK%E6%8E%A5%E5%85%A5-c-%E5%92%8C%E5%8E%9F%E7%94%9F%E8%AF%AD%E8%A8%80%EF%BC%89"><span class="toc-number">11.3.</span> <span class="toc-text">SDK接入(c#和原生语言）</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Unity%E9%A1%B9%E7%9B%AE%E4%B8%8A%E4%BC%A0GitHub%E7%9A%84%E6%B3%A8%E6%84%8F%E7%82%B9"><span class="toc-number">12.</span> <span class="toc-text">Unity项目上传GitHub的注意点</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2023/07/23/Unity_Job/01Unity_ADB/" title="Unity中ADB调试配置及VR设备处理"><img src="/images/Wallpaper/10012unity3d.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Unity中ADB调试配置及VR设备处理"/></a><div class="content"><a class="title" href="/2023/07/23/Unity_Job/01Unity_ADB/" title="Unity中ADB调试配置及VR设备处理">Unity中ADB调试配置及VR设备处理</a><time datetime="2023-07-23T14:20:00.000Z" title="发表于 2023-07-23 22:20:00">2023-07-23</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/06/07/Hardware/06OpenWRTLocal/" title="OpenWRT本地编译(Lede)"><img src="/images/Wlop/07.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="OpenWRT本地编译(Lede)"/></a><div class="content"><a class="title" href="/2023/06/07/Hardware/06OpenWRTLocal/" title="OpenWRT本地编译(Lede)">OpenWRT本地编译(Lede)</a><time datetime="2023-06-07T04:30:00.000Z" title="发表于 2023-06-07 12:30:00">2023-06-07</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/06/03/Hardware/05DDWrt/" title="DD-WRT"><img src="/images/Wlop/22.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="DD-WRT"/></a><div class="content"><a class="title" href="/2023/06/03/Hardware/05DDWrt/" title="DD-WRT">DD-WRT</a><time datetime="2023-06-03T04:30:00.000Z" title="发表于 2023-06-03 12:30:00">2023-06-03</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/06/03/Hardware/01Router/" title="路由器"><img src="/images/Wlop/78.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="路由器"/></a><div class="content"><a class="title" href="/2023/06/03/Hardware/01Router/" title="路由器">路由器</a><time datetime="2023-06-03T02:30:00.000Z" title="发表于 2023-06-03 10:30:00">2023-06-03</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/06/01/Aio/04Jellyfin/" title="Jellyfin"><img src="/images/Wlop/100.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Jellyfin"/></a><div class="content"><a class="title" href="/2023/06/01/Aio/04Jellyfin/" title="Jellyfin">Jellyfin</a><time datetime="2023-06-01T04:20:00.000Z" title="发表于 2023-06-01 12:20:00">2023-06-01</time></div></div></div></div></div></div></main><footer id="footer"><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2017 - 2025 By Winward King</span></div><div class="footer_custom_text">欢迎来到我的博客小站</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="前往评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=5.5.1"></script><script src="/js/main.js?v=5.5.1"></script><script src="/js/tw_cn.js?v=5.5.1"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@6.0.33/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@5.2.0/instantpage.min.js" type="module"></script><div class="js-pjax"><script>(() => {
  const isShuoshuo = GLOBAL_CONFIG_SITE.pageType === 'shuoshuo'
  const option = null

  const getCount = () => {
    const countELement = document.getElementById('twikoo-count')
    if(!countELement) return
    twikoo.getCommentsCount({
      envId: 'https://twikoobot.837888.xyz',
      region: '',
      urls: [window.location.pathname],
      includeReply: false
    }).then(res => {
      countELement.textContent = res[0].count
    }).catch(err => {
      console.error(err)
    })
  }

  const init = (el = document, path = location.pathname) => {
    twikoo.init({
      el: el.querySelector('#twikoo-wrap'),
      envId: 'https://twikoobot.837888.xyz',
      region: '',
      onCommentLoaded: () => {
        btf.loadLightbox(document.querySelectorAll('#twikoo .tk-content img:not(.tk-owo-emotion)'))
      },
      ...option,
      path: isShuoshuo ? path : (option && option.path) || path
    })

    GLOBAL_CONFIG_SITE.pageType === 'post' && getCount()

    isShuoshuo && (window.shuoshuoComment.destroyTwikoo = () => {
      if (el.children.length) {
        el.innerHTML = ''
        el.classList.add('no-comment')
      }
    })
  }

  const loadTwikoo = (el, path) => {
    if (typeof twikoo === 'object') setTimeout(() => init(el, path), 0)
    else btf.getScript('https://cdn.jsdelivr.net/npm/twikoo@1.6.44/dist/twikoo.all.min.js').then(() => init(el, path))
  }

  if (isShuoshuo) {
    'Twikoo' === 'Twikoo'
      ? window.shuoshuoComment = { loadComment: loadTwikoo }
      : window.loadOtherComment = loadTwikoo
    return
  }

  if ('Twikoo' === 'Twikoo' || !true) {
    if (true) btf.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else loadTwikoo()
  } else {
    window.loadOtherComment = loadTwikoo
  }
})()</script></div><script>window.newestComments = {
  changeContent: content => {
    if (content === '') return content

    content = content.replace(/<img.*?src="(.*?)"?[^\>]+>/ig, '[图片]') // replace image link
    content = content.replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi, '[链接]') // replace url
    content = content.replace(/<pre><code>.*?<\/pre>/gi, '[代码]') // replace code
    content = content.replace(/<code>.*?<\/code>/gi, '[代码]') // replace code
    content = content.replace(/<[^>]+>/g, "") // remove html tag

    if (content.length > 150) {
      content = content.substring(0, 150) + '...'
    }
    return content
  },

  generateHtml: (array, ele) => {
    let result = ''

    if (array.length) {
      for (let i = 0; i < array.length; i++) {
        result += '<div class="aside-list-item">'

        if (true && array[i].avatar) {
          const imgAttr = 'src'
          const lazyloadNative = ''
          result += `<a href="${array[i].url}" class="thumbnail"><img ${imgAttr}="${array[i].avatar}" alt="${array[i].nick}" ${lazyloadNative}></a>`
        }

        result += `<div class="content">
        <a class="comment" href="${array[i].url}" title="${array[i].content}">${array[i].content}</a>
        <div class="name"><span>${array[i].nick} / </span><time datetime="${array[i].date}">${btf.diffDate(array[i].date, true)}</time></div>
        </div></div>`
      }
    } else {
      result += '暂无评论'
    }

    ele.innerHTML = result
    window.lazyLoadInstance && window.lazyLoadInstance.update()
    window.pjax && window.pjax.refresh(ele)
  },

  newestCommentInit: (name, getComment) => {
    const $dom = document.querySelector('#card-newest-comments .aside-list')
    if ($dom) {
      const data = btf.saveToLocal.get(name)
      if (data) {
        newestComments.generateHtml(JSON.parse(data), $dom)
      } else {
        getComment($dom)
      }
    }
  },

  run: (name, getComment) => {
    newestComments.newestCommentInit(name, getComment)
    btf.addGlobalFn('pjaxComplete', () => newestComments.newestCommentInit(name, getComment), name)
  }
}</script><script>window.addEventListener('load', () => {
  const keyName = 'twikoo-newest-comments'
  const { changeContent, generateHtml, run } = window.newestComments

  const getComment = ele => {
    const runTwikoo = () => {
      twikoo.getRecentComments({
        envId: 'https://twikoobot.837888.xyz',
        region: '',
        pageSize: 6,
        includeReply: true
      }).then(res => {
        const twikooArray = res.map(e => {
          return {
            'content': changeContent(e.comment),
            'avatar': e.avatar,
            'nick': e.nick,
            'url': e.url + '#' + e.id,
            'date': new Date(e.created).toISOString()
          }
        })

        btf.saveToLocal.set(keyName, JSON.stringify(twikooArray), 10/(60*24))
        generateHtml(twikooArray, ele)
      }).catch(err => {
        console.error(err)
        ele.textContent= "无法获取评论，请确认相关配置是否正确"
      })
    }

    if (typeof twikoo === 'object') {
      runTwikoo()
    } else {
      btf.getScript('https://cdn.jsdelivr.net/npm/twikoo@1.6.44/dist/twikoo.all.min.js').then(runTwikoo)
    }
  }

  run(keyName, getComment)
})</script><div class="aplayer no-destroy" data-id="14468537744" data-server="netease" data-type="playlist" data-fixed="true" data-autoplay="false"> </div><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/dist/click-heart.min.js" async="async" mobile="false"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/metingjs/dist/Meting.min.js"></script><script>(() => {
  const destroyAplayer = () => {
    if (window.aplayers) {
      for (let i = 0; i < window.aplayers.length; i++) {
        if (!window.aplayers[i].options.fixed) {
          window.aplayers[i].destroy()
        }
      }
    }
  }

  const runMetingJS = () => {
    typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()
  }

  btf.addGlobalFn('pjaxSend', destroyAplayer, 'destroyAplayer')
  btf.addGlobalFn('pjaxComplete', loadMeting, 'runMetingJS')
})()</script><script src="https://cdn.jsdelivr.net/npm/pjax@0.2.8/pjax.min.js"></script><script>(() => {
  const pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

  window.pjax = new Pjax({
    elements: 'a:not([target="_blank"])',
    selectors: pjaxSelectors,
    cacheBust: false,
    analytics: false,
    scrollRestoration: false
  })

  const triggerPjaxFn = (val) => {
    if (!val) return
    Object.values(val).forEach(fn => {
      try {
        fn()
      } catch (err) {
        console.debug('Pjax callback failed:', err)
      }
    })
  }

  document.addEventListener('pjax:send', () => {
    // removeEventListener
    btf.removeGlobalFnEvent('pjaxSendOnce')
    btf.removeGlobalFnEvent('themeChange')

    // reset readmode
    const $bodyClassList = document.body.classList
    if ($bodyClassList.contains('read-mode')) $bodyClassList.remove('read-mode')

    triggerPjaxFn(window.globalFn.pjaxSend)
  })

  document.addEventListener('pjax:complete', () => {
    btf.removeGlobalFnEvent('pjaxCompleteOnce')
    document.querySelectorAll('script[data-pjax]').forEach(item => {
      const newScript = document.createElement('script')
      const content = item.text || item.textContent || item.innerHTML || ""
      Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
      newScript.appendChild(document.createTextNode(content))
      item.parentNode.replaceChild(newScript, item)
    })

    triggerPjaxFn(window.globalFn.pjaxComplete)
  })

  document.addEventListener('pjax:error', e => {
    if (e.request.status === 404) {
      const usePjax = true
      false
        ? (usePjax ? pjax.loadUrl('/404.html') : window.location.href = '/404.html')
        : window.location.href = e.request.responseURL
    }
  })
})()</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><i class="fas fa-spinner fa-pulse" id="loading-status" hidden="hidden"></i><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据加载中</span></div><div class="local-search-input"><input placeholder="请输入想要搜索的内容" type="text"/></div><hr/><div id="local-search-results"></div><div class="ais-Pagination" id="local-search-pagination" style="display:none;"><ul class="ais-Pagination-list"></ul></div><div id="local-search-stats"></div></div><div id="search-mask"></div><script src="/js/search/local-search.js?v=5.5.1"></script></div></div><!-- hexo injector body_end start --><div id="background-effect"></div><script src="https://cdn.jsdelivr.net/npm/three@0.121.1/build/three.min.js"></script><script src="https://cdn.jsdelivr.net/npm/vanta/dist/vanta.clouds.min.js"></script><script>VANTA.CLOUDS({"el":"#background-effect","mouseControls":true,"touchControls":true,"gyroControls":false,"minHeight":200,"minWidth":200,"scale":1,"scaleMobile":1})</script><script data-pjax>
  function butterfly_footer_beautify_injector_config(){
    var parent_div_git = document.getElementsByClassName('footer-other')[0];
    var item_html = '<div id="workboard"></div><p id="ghbdages"><a class="github-badge" target="_blank" href="https://hexo.io/" style="margin-inline:5px" data-title="博客框架为Hexo_v7.3.0" title=""><img src="https://img.shields.io/badge/Frame-Hexo-blue?style=flat&amp;logo=hexo" alt=""/></a><a class="github-badge" target="_blank" href="https://butterfly.js.org/" style="margin-inline:5px" data-title="主题版本Butterfly_v5.5.1" title=""><img src="https://img.shields.io/badge/Theme-Butterfly-6513df?style=flat&amp;logo=bitdefender" alt=""/></a><a class="github-badge" target="_blank" href="https://www.upyun.com/?utm_source=lianmeng&amp;utm_medium=referral" style="margin-inline:5px" data-title="本站使用又拍云为静态资源提供CDN加速" title=""><img src="https://img.shields.io/badge/CDN-%E5%8F%88%E6%8B%8D%E4%BA%91-00b6ff?style=flat&amp;logo=data:image/png;base64,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" alt=""/></a><a class="github-badge" target="_blank" href="https://www.jsdelivr.com/" style="margin-inline:5px" data-title="本站使用JsDelivr为静态资源提供CDN加速" title=""><img src="https://img.shields.io/badge/CDN-jsDelivr-orange?style=flat&amp;logo=jsDelivr" alt=""/></a><a class="github-badge" target="_blank" href="https://vercel.com/" style="margin-inline:5px" data-title="本站采用双线部署，默认线路托管于Vercel" title=""><img src="https://img.shields.io/badge/Hosted-Vercel-brightgreen?style=flat&amp;logo=Vercel" alt=""/></a><a class="github-badge" target="_blank" href="https://github.com/" style="margin-inline:5px" data-title="本站项目由Github托管" title=""><img src="https://img.shields.io/badge/Source-Github-d021d6?style=flat&amp;logo=GitHub" alt=""/></a><a class="github-badge" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" style="margin-inline:5px" data-title="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可" title=""><img src="https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=flat&amp;logo=Claris" alt=""/></a></p>';
    console.log('已挂载butterfly_footer_beautify')
    parent_div_git.insertAdjacentHTML("beforeend",item_html)
    }
  var elist = 'null'.split(',');
  var cpage = location.pathname;
  var epage = 'all';
  var flag = 0;

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_footer_beautify_injector_config();
  }
  else if (epage === cpage){
    butterfly_footer_beautify_injector_config();
  }
  </script><script async src="/js/footer_beautify/runtime.js"></script><!-- hexo injector body_end end --><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":true,"model":{"scale":1,"hHeadPos":0.5,"vHeadPos":0.618,"jsonPath":"/live2dw/assets/assets/unitychan.model.json"},"display":{"position":"right","width":150,"height":300,"hOffset":40,"vOffset":-20},"mobile":{"show":true,"scale":0.5},"react":{"opacity":0.7},"log":false});</script></body></html>